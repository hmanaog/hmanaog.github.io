(this.webpackJsonpricardoreactexercise=this.webpackJsonpricardoreactexercise||[]).push([[0],{85:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(10),i=n.n(a),s=(n(85),n(11)),o=n.p+"static/media/logo.6f77fdaa.svg",l=n(126),d=n(137),j=n(3),b={display:"flex",alignItems:"center",height:"60px"},h=Object(s.f)((function(e){return Object(j.jsx)("div",{style:{backgroundColor:"white"},children:Object(j.jsx)(l.a,{maxWidth:"lg",children:Object(j.jsx)(d.a,{style:b,children:Object(j.jsx)("img",{src:o,alt:"ricardo",style:{width:"112px",height:"24px",cursor:"pointer"},onClick:function(){e.history.push("/")}})})})})})),m=n(28),u=n(136),x=n(138),p=n(71),f=n.n(p),O=n(129),g=Object(O.a)({formStyle:{width:"100%",display:"flex",flexDirection:"row",alignItems:"center",height:"60px",margin:"2rem 0rem"},textField:{width:"80%",marginRight:"1rem"},button:{height:"100%"}}),y=Object(s.f)((function(e){var t=g(),n=Object(c.useState)(""),r=Object(m.a)(n,2),a=r[0],i=r[1];return Object(j.jsxs)("form",{className:t.formStyle,onSubmit:function(t){t.preventDefault(),a.length&&e.history.push("/search/".concat(a))},children:[Object(j.jsx)(u.a,{className:t.textField,id:"outlined-basic",label:"Search text",variant:"outlined",onChange:function(e){i(e.target.value)}}),Object(j.jsx)(x.a,{className:t.button,component:"button",type:"submit",variant:"contained",color:"primary",startIcon:Object(j.jsx)(f.a,{}),disabled:!a.length,children:"Search"})]})})),v=n(30),w=n.n(v),N=n(48),C=n(58),P=n(135),S=n(134),I=n(70),F=n(26),k=n(130),T=n(131),B=n(132),D=n(133),H=Object(O.a)({grid:{marginTop:"1rem"},link:{textDecoration:"none"},card:{minHeight:"320px"},cardContent:{padding:"0"},cardMedia:{height:"150px",width:"auto"},boxInCard1:{margin:"1rem 0.5rem 0rem 0.7rem",minHeight:"50px"},boxInCard2:{margin:"0rem 0.5rem 0rem 0.7rem",minHeight:"50px"},fontBold:{fontWeight:"700"},fontSize:{fontSize:"14px"},priceBox:{padding:"0.5rem 0.5rem 0rem 0.4rem"}}),E=function(e){var t=e.sortedItems,n=H();return Object(j.jsx)(k.a,{className:n.grid,container:!0,spacing:3,children:t&&t.map((function(e,t){return Object(j.jsx)(k.a,{item:!0,xs:12,sm:3,children:Object(j.jsx)(F.b,{className:n.link,to:"/article/".concat(e.id),children:Object(j.jsx)(T.a,{className:n.card,children:Object(j.jsxs)(B.a,{className:n.cardContent,style:{padding:"0"},children:[Object(j.jsx)(D.a,{className:n.cardMedia,image:e.imageUrl,title:e.title}),Object(j.jsx)(d.a,{className:n.boxInCard1,component:"div",children:Object(j.jsxs)(S.a,{className:n.fontBold,variant:"body2",color:"textPrimary",component:"p",children:[e.title," "]})}),Object(j.jsx)(d.a,{className:n.boxInCard2,component:"div",children:Object(j.jsxs)(S.a,{className:n.fontSize,variant:"subtitle2",color:"textPrimary",component:"p",children:["Ending on:"," ",Object(j.jsx)(d.a,{className:n.fontBold,component:"span",children:e.endDate.replace(/T/i," at ").slice(0,-1)})," "]})}),Object(j.jsx)(d.a,{className:n.priceBox,children:Object(j.jsxs)(S.a,{variant:"body2",color:"textPrimary",children:[null===e.buyNowPrice?0:e.buyNowPrice," CHF"," "]})})]})})})},t)}))})},z=Object(O.a)({box:{margin:"0 0"},wrapper:{display:"flex",justifyContent:"space-between",flexDirection:"row",alignItems:"center"}}),L=Object(s.f)((function(e){var t=z(),n=Object(c.useState)({articles:[],totalCount:0}),r=Object(m.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)([]),o=Object(m.a)(s,2),l=o[0],b=o[1],h=Object(c.useState)(),u=Object(m.a)(h,2),x=u[0],p=u[1];Object(c.useEffect)((function(){f()}),[]),Object(c.useEffect)((function(){switch(x){case"lower":return b(Object(C.a)(a.articles).sort(O));case"higher":return b(Object(C.a)(a.articles).sort(g));case"ending":return b(Object(C.a)(a.articles).sort(y));default:return b(a.articles)}}),[x,a]);var f=function(){var t=Object(N.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.searchText,t.next=3,fetch("https://www.ricardo.ch/api/frontend/recruitment/search/?searchText=".concat(n,"&apiToken=").concat("16e1b9afa00f41e997303d423b428508cb660342"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){return i({articles:e.articles,totalCount:e.totalCount})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(e,t){return e.buyNowPrice<t.buyNowPrice?-1:e.buyNowPrice>t.buyNowPrice?1:0},g=function(e,t){return e.buyNowPrice>t.buyNowPrice?-1:e.buyNowPrice<t.buyNowPrice?1:0},y=function(e,t){return e.endDate<t.endDate?-1:e.endDate>t.endDate?1:0};return Object(j.jsx)(j.Fragment,{children:l.length?Object(j.jsxs)(d.a,{className:t.box,children:[Object(j.jsxs)(d.a,{className:t.wrapper,children:[Object(j.jsxs)(S.a,{variant:"body2",color:"textPrimary",component:"p",children:["Total count: ",a.articles.length," "]}),Object(j.jsxs)(d.a,{className:t.wrapper,children:[Object(j.jsx)(S.a,{variant:"body2",color:"textPrimary",component:"p",style:{fontSize:"18px",marginRight:"0.2rem"},children:"Sort by:"})," ",Object(j.jsxs)(I.a,{value:x,style:{fontSize:"18px"},onChange:function(e){p(e.target.value)},name:"itemSort",children:[Object(j.jsx)("option",{value:"default",children:"Relevance"}),Object(j.jsx)("option",{value:"lower",children:"Lowest price"}),Object(j.jsx)("option",{value:"higher",children:"Highest price"}),Object(j.jsx)("option",{value:"ending",children:"Ending soon"})]})]})]}),Object(j.jsx)(E,{sortedItems:l})]}):Object(j.jsx)(P.a,{size:100,style:{position:"fixed",left:"50%",top:"50%"}})})})),M=Object(O.a)({cardMediaBox:{minHeight:"230px",maxHeight:"690px",minWidth:"172px"},box:{margin:"1rem 1rem 1rem 1.5rem"},fontBold:{fontWeight:"bold"},fontNormal:{fontWeight:"normal"},hrLine:{width:"80%"}}),W=Object(s.f)((function(e){var t=M(),n=Object(c.useState)({}),r=Object(m.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)({}),o=Object(m.a)(s,2),l=o[0],b=o[1];Object(c.useEffect)((function(){h()}),[]);var h=function(){var t=Object(N.a)(w.a.mark((function t(){var n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.match.params.articleId,t.next=3,fetch("https://www.ricardo.ch/api/frontend/recruitment/article-details/?articleId=".concat(n,"&apiToken=").concat("16e1b9afa00f41e997303d423b428508cb660342"),{method:"GET"}).then((function(e){return e.json()})).then(function(){var e=Object(N.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(t),n=t.sellerId,e.next=4,fetch("https://www.ricardo.ch/api/frontend/recruitment/user/?userId=".concat(n,"&apiToken=").concat("16e1b9afa00f41e997303d423b428508cb660342"),{method:"GET"}).then((function(e){return e.json()})).then((function(e){b(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return t.abrupt("return",!0);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsx)(j.Fragment,{children:Object.keys(l).length?Object(j.jsxs)(k.a,{container:!0,spacing:3,children:[Object(j.jsx)(k.a,{item:!0,xs:12,sm:6,style:{display:"flex",justifyContent:"center"},children:Object(j.jsx)(d.a,{className:t.cardMediaBox,children:Object(j.jsx)(D.a,{component:"img",image:a.imageUrl,title:a.title})})}),Object(j.jsx)(k.a,{item:!0,xs:12,sm:6,children:Object(j.jsx)(T.a,{children:Object(j.jsxs)(B.a,{style:{padding:"0"},children:[Object(j.jsxs)(d.a,{className:t.box,children:[Object(j.jsxs)(S.a,{variant:"h4",color:"textPrimary",children:[a.title," "]}),a.subtitle?Object(j.jsxs)(S.a,{variant:"subtitle2",color:"textPrimary",children:[a.subtitle," "]}):void 0]}),Object(j.jsx)("hr",{className:t.hrLine}),Object(j.jsxs)(d.a,{className:t.box,children:[Object(j.jsxs)(S.a,{className:t.fontBold,variant:"body2",color:"textPrimary",children:["Seller:"," ",Object(j.jsx)(d.a,{className:t.fontNormal,component:"span",children:l.name})," "]}),Object(j.jsxs)(S.a,{className:t.fontBold,variant:"body2",color:"textPrimary",children:["Price:"," ",Object(j.jsxs)(d.a,{className:t.fontNormal,component:"span",children:[a.price," CHF"]})]})]}),Object(j.jsx)("hr",{className:t.hrLine}),Object(j.jsx)(d.a,{className:t.box,children:Object(j.jsx)("div",{dangerouslySetInnerHTML:{__html:a.descriptionHtml}})})]})})})]}):Object(j.jsx)(P.a,{size:100,style:{position:"fixed",left:"50%",top:"50%"}})})}));var G=function(){return Object(j.jsxs)("div",{className:"App",style:{backgroundColor:"#F5F5F3",height:"100vh"},children:[Object(j.jsx)(h,{}),Object(j.jsx)("div",{style:{backgroundColor:"#F5F5F3"},children:Object(j.jsx)(l.a,{maxWidth:"lg",style:{padding:"2rem 1rem"},children:Object(j.jsxs)(s.c,{children:[Object(j.jsx)(s.a,{exact:!0,path:"/",component:y}),Object(j.jsx)(s.a,{path:"/search/:searchText",component:L}),Object(j.jsx)(s.a,{path:"/article/:articleId",component:W})]})})})]})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};i.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(F.a,{children:Object(j.jsx)(G,{})})}),document.getElementById("root")),R()}},[[97,1,2]]]);
//# sourceMappingURL=main.9410e91e.chunk.js.map